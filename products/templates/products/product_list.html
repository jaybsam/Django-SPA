{% extends 'products/header.html' %}

{% block content %}
    <h1 class="uk-heading-small uk-heading-line uk-text-center">
        <small>Product List</small>
    </h1>
    {% if messages %}
        {% for message in messages %}
            <div class="uk-alert-success" uk-alert>
                <a class="uk-alert-close" uk-close></a>
                <p>{{ message }}.</p>
            </div>
        {% endfor %}
    {% endif %}
    <div uk-grid>
    {% if object_list %}
        <div class="uk-width-1-1">
            <div uk-grid>
                <div class="uk-width-1-4"></div>
                <div class="uk-width-1-4"></div>
                <div class="uk-width-1-4"></div>
                <div class="uk-width-1-4 uk-text-right">
                    <a href="{% url 'product_new' %}" uk-toggle class="uk-button uk-button-default tm-button-default uk-icon">Add Product <span uk-icon="icon: plus; ratio:1;"></span></a>
                </div>
            </div>
            <div uk-grid>
                {% for product in object_list %}
                <div class="uk-width-1-3">
                    <div>
                        <div class="uk-card uk-card-default">
                            <div class="uk-card-media-top" style="position:relative;">
                                <img src="https://source.unsplash.com/random/200x200?sig={{product.id}}" width="1800" height="1200" alt="">
                                <span class="uk-label uk-label-danger" style="position: absolute; right: 0; bottom: 0; font-size: 19px !important;">${{ product.price }}</span>
                            </div>
                            <div class="uk-card-body">
                                <h3 class="uk-card-title">{{ product.name }}</h3>
                                <p>{{ product.description }}.</p>
                               
                            </div>
                            <div class="uk-card-footer">
                                <a href="{% url 'product_view' product.id %}"><button type="button" class="uk-button uk-button-text uk-text-primary uk-margin-medium-right">View Details</button></a> 
                                <a href="{% url 'product_delete' product.id %}"><button type="button" class="uk-button uk-button-text uk-text-danger uk-margin-medium-left">Remove</button></a>
                            </div>
                        
                        </div>
                    </div>
                </div>
                
                {% endfor %}
            </div>
        </div>
    {% else %}
    <div class="uk-width-1-1">
        <div uk-grid>
            <div class="uk-width-1-4"></div>
            <div class="uk-width-1-4"></div>
            <div class="uk-width-1-4"></div>
            <div class="uk-width-1-4 uk-text-right">
                <a href="{% url 'product_new' %}" uk-toggle class="uk-button uk-button-default tm-button-default uk-icon">Add Product <span uk-icon="icon: plus; ratio:1;"></span></a>
            </div>
        </div>
        <div class="uk-alert-danger" uk-alert>
            <dl class="uk-description-list uk-description-list-divider">
                <dt><strong class="uk-text-danger">OOps no product</strong></dt>
                <dd>There is no existing product added.</dd>
            </dl>
        </div>
    </div>
    {% endif %}
    </div>
{% endblock %}